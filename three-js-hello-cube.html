<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>three-js-hello-mesh</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script>
			const scene = new THREE.Scene();
			scene.background = new THREE.Color(0x808080);
			const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.z = 35;
			const light = new THREE.DirectionalLight()
			scene.add(light);
			const renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			const meshBasicMat = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			
			const meshNormalMat = new THREE.MeshNormalMaterial({
                //wireframe: true,
                side: THREE.FrontSide
            });

			const meshRefractiveMat = new THREE.MeshPhysicalMaterial({
				transmission: 1.0,
				roughness: 0.0,
				ior: 1.333,
				thickness: 3,
				flatShading: true,
			})

			const torusGeometry = new THREE.TorusKnotGeometry(10, 2.3, 300, 24);
			const torusMesh = new THREE.Mesh( torusGeometry, meshRefractiveMat );
			scene.add(torusMesh);

			const bgMesh = new THREE.Mesh( torusGeometry, meshNormalMat);
			bgMesh.position.z = -50;
			scene.add(bgMesh);

			animate();

			function animate() {
				requestAnimationFrame( animate );

				torusMesh.rotation.x += 0.01;
				torusMesh.rotation.y += 0.01;

				renderer.render( scene, camera );
			};

			function resizeCanvas() {
                renderer.setSize( window.innerWidth, window.innerHeight );
            }
            window.addEventListener('resize', resizeCanvas)
		</script>
	</body>
</html>